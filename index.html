<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link rel="stylesheet" href="bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <div class="container">
            <h1>–ò–≥—Ä–∞ –Ω–∞ –ø–∞–º—è—Ç—å</h1>
            <h6>- –í–µ—Ä—Å–∏—è —Å –≠–º–æ–¥–∂–∏ -</h6>
            <div class="card-grid">
              <div v-for="(card, index) in cards" :key="index" class="card" :class="{ flipped: card.flipped }" @click="flipCard(index)">
                <div class="card-inner">
                  <div class="card-front"></div>
                  <div class="card-back">{{ card.value }}</div>
                </div>
              </div>
            </div>
            <div class="game_buttons">
                <button><a href="menu.html">–ù–∞–∑–∞–¥</a></button>
                <button @click="restartGame" style="margin-left: 20px;">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
            </div>
        </div>
    </div>

    <script>
        const app = Vue.createApp({
            data() {
                return {
                    cards: [
                        { value: "üòÄ", flipped: false },
                        { value: "üòÄ", flipped: false },
                        { value: "ü§£", flipped: false },
                        { value: "ü§£", flipped: false },
                        { value: "üòá", flipped: false },
                        { value: "üòá", flipped: false },
                        { value: "üòç", flipped: false },
                        { value: "üòç", flipped: false },
                        { value: "ü§ó", flipped: false },
                        { value: "ü§ó", flipped: false },
                        { value: "ü§ê", flipped: false },
                        { value: "ü§ê", flipped: false },
                        { value: "üò∑", flipped: false },
                        { value: "üò∑", flipped: false },
                        { value: "ü•∂", flipped: false },
                        { value: "ü•∂", flipped: false },
                        { value: "üòé", flipped: false },
                        { value: "üòé", flipped: false },
                        { value: "üò≠", flipped: false },
                        { value: "üò≠", flipped: false },
                        { value: "ü§°", flipped: false },
                        { value: "ü§°", flipped: false },
                        { value: "üò∫", flipped: false },
                        { value: "üò∫", flipped: false }
                    ],
                    flippedCards: [],
                };
            },
            methods: {
                flipCard(index) {
                    if (this.cards[index].flipped) return;
                    this.cards[index].flipped = true;
                    this.flippedCards.push(index);

                    if (this.flippedCards.length === 2) {
                        const card1 = this.cards[this.flippedCards[0]];
                        const card2 = this.cards[this.flippedCards[1]];

                        if (card1.value !== card2.value) {
                            setTimeout(() => {
                                card1.flipped = false;
                                card2.flipped = false;
                                this.flippedCards = [];
                            }, 1000);
                        }
                        else {
                            this.flippedCards = [];
                            if(this.cards.every((card) => card.flipped)) {
                                this.completed = true;
                            }
                        }
                    }
                },
                restartGame() {
                    this.cards.forEach(card => {
                        card.flipped = false;
                        card.matched = false;
                    });
                    this.gameOver = false;
                    this.shuffleCards();
                },
                shuffleCards() {
                    for (let i = this.cards.length - 1; i > 0; i--) {
                        const j = Math.floor(Math.random() * (i + 1));
                        const temp = this.cards[i];
                        this.cards[i] = this.cards[j];
                        this.cards[j] = temp;
                    }
                },
            },
            mounted() {
                this.shuffleCards();
            }
            // —ç—Ç–æ —Ö—É–∫ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ Vue 3, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ç–æ–≥–æ,
            // –∫–∞–∫ —ç–ª–µ–º–µ–Ω—Ç Vue –±—ã–ª —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –≤ DOM. –û–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å
            // –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–¥ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–æ–±—Ä–∞–∂–µ–Ω –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
        });
        app.mount("#app");
    </script>
    <script src="js/bootstrap.bundle.min.js"></script>
</body>
</html>